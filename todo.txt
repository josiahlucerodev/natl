add mutex and thread time based functionality 
remake timer 